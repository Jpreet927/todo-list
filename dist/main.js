(()=>{"use strict";var __webpack_modules__={23:()=>{eval('\n;// CONCATENATED MODULE: ./src/tasks.js\nclass Task {\n    constructor(name, description, project, date) {\n        this.name = name;\n        this.description = description;\n        this.project = project;\n        this.date = date;\n    }\n}\n\n/* harmony default export */ const tasks = (Task);\n;// CONCATENATED MODULE: ./src/projects.js\nclass Project {\n    constructor(name, colour) {\n        this.name = name;\n        this.colour = colour;\n    }\n}\n\n/* harmony default export */ const projects = (Project);\n;// CONCATENATED MODULE: ./src/helpers.js\nfunction generateColour() {\n    let hue = Math.floor(Math.random()*360);\n    let sat = 90;\n    let light = 60;\n\n    let hslVal = `hsl(${hue}, ${sat}%, ${light}%)`;\n    return hslVal\n}\n\nfunction validateForm(...args) {\n    let fieldsFilled = true;\n    \n    args.forEach((input) => {\n        let inputText = input.value.trim();\n        if (inputText === \'\') {\n            if (input.parentElement.classList.contains(\'success\')){\n                input.parentElement.classList.remove(\'success\');\n            }\n            input.parentElement.classList.add(\'error\');\n        } else {\n            if (input.parentElement.classList.contains(\'error\')) {\n                input.parentElement.classList.remove(\'error\');\n            }\n            input.parentElement.classList.add(\'success\');\n        }\n    })\n\n    args.forEach((arg) => {\n        let argText = arg.value.trim();\n        console.log(arg);\n        console.log(argText);\n        if (argText === \'\') {\n            console.log("falseeee");\n            fieldsFilled = false;\n            return false\n        }\n    })\n\n    return fieldsFilled\n}\n\n// function validateForm(formNameInput, formDescInput) {\n//     let taskNameInput = formNameInput.value.trim();\n//     let taskDescInput = formDescInput.value.trim();\n    \n//     if (taskNameInput === \'\') {\n//         if (formNameInput.parentElement.classList.contains(\'success\')){\n//             formNameInput.parentElement.classList.remove(\'success\');\n//         }\n//         taskName.parentElement.classList.add(\'error\');\n//     } else {\n//         if (formNameInput.parentElement.classList.contains(\'error\')){\n//             formNameInput.parentElement.classList.remove(\'error\');\n//         }\n//         formNameInput.parentElement.classList.add(\'success\')\n//     }\n\n//     if (taskDescInput === \'\') {\n//         if (formDescInput.parentElement.classList.contains(\'success\')){\n//             formDescInput.parentElement.classList.remove(\'success\');\n//         }\n//         formDescInput.parentElement.classList.add(\'error\');\n//     } else {\n//         if (formDescInput.parentElement.classList.contains(\'error\')){\n//             formDescInput.parentElement.classList.remove(\'error\');\n//         }\n//         formDescInput.parentElement.classList.add(\'success\')\n//     }\n\n//     if (taskNameInput !== \'\' && taskDescInput !== \'\') {\n//         return true\n//     }\n// }\n\n\n;// CONCATENATED MODULE: ./src/dom.js\n\n\n\n\nlet taskExample1 = new tasks("Task Name", "Lorem Ipsum", "School", "2022-02-06");\nlet taskExample2 = new tasks("Task Name", "Lorem Ipsum", "School", "2022-02-06");\nlet taskExample3 = new tasks("Task Name", "Lorem Ipsum", "Work", "2022-02-06");\nlet project1 = new projects("All Tasks", "rgb(0, 0, 0)");\nlet project2 = new projects("School", "rgb(0, 140, 255)");\nlet project3 = new projects("Work", "rgb(229, 37, 82)");\nlet taskList = [];\nlet projectList = [];\n\ntaskList.push(taskExample1, taskExample2, taskExample3);\nprojectList.push(project1, project2, project3);\n\n// creates main page\nfunction renderPage() {\n    console.log(\'hello\');\n    let body = document.querySelector("body");\n    let header = document.createElement("header");\n    let mainSection = document.createElement("div");\n    let pageTitle = document.createElement("h3");\n    let toggleContainer = document.createElement("div");\n    let toggleIndicator = document.createElement("i");\n\n    pageTitle.textContent = "My To-Do List";\n    toggleContainer.classList.add("toggle-mode");\n    toggleIndicator.classList.add("toggle-btn");\n    toggleContainer.append(toggleIndicator);\n    header.append(pageTitle, toggleContainer);\n    mainSection.classList.add("main-body");\n    \n    let left = document.createElement("div");\n    let leftTitle = document.createElement("h1");\n    let newProjectBtn = document.createElement("div");\n    let newProjectIcon = document.createElement("img");\n    let newProjectText = document.createElement("p");\n    let projectUL = document.createElement("ul");\n    leftTitle.textContent = "Project List"\n    left.classList.add("left");\n    projectUL.classList.add("project-list");\n    newProjectIcon.src = "../images/plus.png";\n    newProjectText.textContent = "Add a Project"\n    newProjectBtn.classList.add("new-project");\n    newProjectBtn.append(newProjectIcon, newProjectText);\n    left.append(leftTitle, projectUL, newProjectBtn);\n\n    let right = document.createElement("div");\n    let rightTitle = document.createElement("h1");\n    let taskContainer = document.createElement("div");\n    let newTask = document.createElement("div");\n    let newTaskIcon = document.createElement("img");\n    let newTaskText = document.createElement("p");\n    rightTitle.textContent = "Task List";\n    right.classList.add("right");\n    taskContainer.classList.add("task-container");\n    newTask.classList.add("new-task");\n    newTaskIcon.src = "../images/plus.png";\n    newTaskText.textContent = "Add a Task";\n    newTask.append(newTaskIcon, newTaskText);\n    right.append(rightTitle, taskContainer, newTask);\n\n    mainSection.append(left, right);\n    body.append(header, mainSection);\n\n    toggleContainer.addEventListener(\'click\', toggleMode);\n\n    newProjectBtn.addEventListener(\'click\', () => {\n        renderProjectForm();\n    })\n\n    newTask.addEventListener(\'click\', () => {\n        renderTaskForm();\n    })\n    // addtask event listener\n    // add project event listener\n}\n\nfunction populatePage() {\n    projectList.forEach((project) => {\n        renderProject(project);\n    })\n\n    taskList.forEach((task) => {\n        renderTask(task);\n    })\n}\n\n// function to render single task and append to container\nfunction renderTask(task) {\n    let taskDiv = document.createElement("div");\n    let taskCategory = document.createElement("div");\n    let taskInformationContainer = document.createElement("div");\n    let taskHeader = document.createElement("div");\n    let taskTitleDetails = document.createElement("div");\n    let taskTitle = document.createElement("p");\n    let taskDate = document.createElement("p");\n    let iconsContainer = document.createElement("div");\n    let editTaskTitleForm = document.createElement("form");\n    let editTaskTitleInput = document.createElement("input");\n    let editTaskDateInput = document.createElement("input");\n    let editTaskSubmit = document.createElement("input");\n    let editBtn = document.createElement("img");\n    let checkBtn = document.createElement("img");\n    let deleteBtn = document.createElement("img");\n    let editDescriptionBtn = document.createElement("img");\n    let editDescriptionForm = document.createElement("form");\n    let editDescriptionInput = document.createElement("input");\n    let editDescriptionSubmit = document.createElement("input");\n    let detailsContainer = document.createElement("div");\n    let details = document.createElement("p");\n    let catColour = "";\n\n    projectList.forEach((project) => {\n        if (JSON.stringify(task.project) === JSON.stringify(project.name)) {\n            catColour = project.colour;\n        }\n    })\n\n    editDescriptionForm.id = "update-description-form";\n    editDescriptionForm.style.display = "none";\n    editDescriptionInput.id = "update-description";\n    editDescriptionInput.placeholder = "Add a new description"\n    editDescriptionSubmit.type = "submit";\n    editDescriptionSubmit.style.display = "none";\n    editDescriptionForm.append(editDescriptionInput, editDescriptionSubmit);\n\n    taskDiv.classList.add("task");\n    taskCategory.classList.add("task-category", "cat-grow");\n    taskInformationContainer.classList.add("task-information");\n    taskHeader.classList.add("task-title");\n    taskTitleDetails.classList.add("task-title-details");\n    taskTitle.classList.add("task-name");\n    taskDate.classList.add("task-date");\n    iconsContainer.classList.add("icons");\n    detailsContainer.classList.add("task-details", "details-visible");\n    editTaskTitleForm.id = "update-task-title-form";\n    editTaskTitleForm.style.display = "none";\n    editTaskTitleInput.id = "update-task-title";\n    editTaskTitleInput.placeholder = "Enter a new title";\n    editTaskDateInput.id = "update-task-date";\n    editTaskDateInput.placeholder = "Enter a new date";\n    editBtn.id = "edit";\n    checkBtn.id = "complete";\n    deleteBtn.id = "delete";\n    details.classList.add("task-description-text");\n    taskCategory.style.backgroundColor = catColour;\n    \n    taskTitle.textContent = task.name;\n    taskDate.textContent = task.date;\n    details.textContent = task.description;\n    editTaskSubmit.type = "submit";\n    editTaskSubmit.style.display = "none";\n    editBtn.src = "../images/edit2.png";\n    checkBtn.src = "../images/check.png";\n    deleteBtn.src = "../images/x.png";\n    editDescriptionBtn.src = "../images/edit2.png";\n    \n    editTaskTitleForm.append(editTaskTitleInput, editTaskDateInput, editTaskSubmit);\n    iconsContainer.append(editBtn, checkBtn, deleteBtn);\n    taskTitleDetails.append(taskTitle, taskDate);\n    taskHeader.append(editTaskTitleForm, taskTitleDetails, iconsContainer);\n    detailsContainer.append(editDescriptionBtn, editDescriptionForm, details);\n    taskInformationContainer.append(taskHeader, detailsContainer);\n    taskDiv.append(taskCategory, taskInformationContainer);\n\n    editBtn.addEventListener(\'click\', (e) => {\n        e.stopPropagation();\n        taskTitleDetails.style.display = "none";\n        editTaskTitleForm.style.display = "flex";\n    });\n\n    editDescriptionBtn.addEventListener(\'click\', (e) => {\n        e.stopPropagation();\n\n        editDescriptionForm.style.display = "flex";\n        details.style.display = "none";\n    })\n\n    editDescriptionInput.addEventListener(\'click\', (e) => {\n        e.stopPropagation();\n    })\n\n    editDescriptionSubmit.addEventListener(\'click\', (e) => {\n        e.stopPropagation();\n    })\n\n    taskDiv.addEventListener(\'click\', expandTask);\n    deleteBtn.addEventListener(\'click\', deleteTask);\n    checkBtn.addEventListener(\'click\', completeTask);\n    editTaskTitleForm.addEventListener(\'submit\', handleEditSubmit)\n    editDescriptionForm.addEventListener(\'submit\', handleDescSubmit)\n\n    let taskContainer = document.querySelector(".task-container");\n    taskContainer.appendChild(taskDiv);\n}\n\n// function to render single project and append to container\nfunction renderProject(projectDiv) {\n    let projectUL = document.querySelector(".project-list");\n    let projectLI = document.createElement("li");\n\n    projectLI.textContent = projectDiv.name;\n    projectUL.append(projectLI);\n\n    projectLI.addEventListener(\'click\', filterTasksByProject);\n}\n\n// function to render Task Creation Form\nfunction renderTaskForm() {\n    console.log(\'yerrr\');\n    let projectModal = document.createElement("div");\n    let taskForm = document.createElement("form");\n    let formHeader = document.createElement("div");\n    let formHeaderText = document.createElement("h1");\n    let formHeaderClose = document.createElement("img");\n    \n    projectModal.classList.add("modal");\n    formHeader.classList.add("form-header");\n    formHeaderClose.classList.add("form-close");\n    taskForm.id = "task-form";\n    formHeaderText.textContent = "New Task";\n    formHeaderClose.src = "../images/x.png";\n    formHeader.append(formHeaderText, formHeaderClose);\n\n    let formName = document.createElement("div");\n    let formNameLabel = document.createElement("label");\n    let formNameInput = document.createElement("input");\n    formName.classList.add("form-input");\n    formNameLabel.textContent = "Task Name";\n    formNameInput.id = "form-task-name";\n    formNameInput.placeholder = "Task Name";\n    formNameInput.type = "text";\n    formName.append(formNameLabel, formNameInput);\n    \n    let formDesc = document.createElement("div");\n    let formDescLabel = document.createElement("label");\n    let formDescInput = document.createElement("textarea");\n    formDesc.classList.add("form-input");\n    formDescLabel.textContent = "Task Description";\n    formDescInput.id = "form-task-description";\n    formDescInput.placeholder = "Task Description";\n    formDescInput.cols = "30";\n    formDescInput.rows = "10";\n    formDesc.append(formDescLabel, formDescInput);\n\n    let formProject = document.createElement("div");\n    let formProjectLabel = document.createElement("label");\n    let formProjectList = document.createElement("select");\n    formProject.classList.add("form-input");\n    formProjectList.id = "task-project-name";\n    formProjectLabel.textContent = "Project";\n\n    //loop throught project list to create options\n    projectList.forEach((project) => {\n        let option = document.createElement("option");\n        option.textContent = project.name;\n        option.value = project.name;\n        formProjectList.append(option);\n    })\n\n    formProject.append(formProjectLabel, formProjectList);\n\n    let formDate = document.createElement("div");\n    let formDateLabel = document.createElement("label");\n    let formDateInput = document.createElement("input")\n    formDate.classList.add("form-input");\n    formDateInput.id = "date-select";\n    formDateInput.type = "date";\n    formDateLabel = "Finish Date";\n    formDate.append(formDateLabel, formDateInput);\n\n    let formSubmitBtn = document.createElement("button");\n    formSubmitBtn.id = "task-submit";\n    formSubmitBtn.textContent = "Submit";\n\n    taskForm.append(formHeader, formName, formDesc, formProject, formDate, formSubmitBtn);\n    projectModal.append(taskForm);\n\n    let body = document.querySelector("body");\n    body.insertBefore(projectModal, body.firstChild);\n\n    taskForm.addEventListener(\'submit\', (e) => {\n        e.preventDefault();\n        if (validateForm(formNameInput, formDescInput)) {\n            let taskNameInput = formNameInput.value.trim();\n            let taskDescInput = formDescInput.value.trim();\n            let projectInput = formProjectList.options[formProjectList.selectedIndex].value;\n            let taskDateInput = formDateInput.value;\n\n            let newTask = new tasks(taskNameInput, taskDescInput, projectInput, taskDateInput);\n            taskList.push(newTask);\n            renderTask(newTask);\n\n            deleteTaskForm();\n        };\n    })\n\n    formHeaderClose.addEventListener(\'click\', deleteTaskForm);\n}\n\n\n// function to render Project Creation Form\nfunction renderProjectForm() {\n    let projectModal = document.createElement("div");\n    let projectForm = document.createElement("form");\n    projectModal.classList.add("project-modal");\n    projectForm.id = "project-form";\n\n    let formHeader = document.createElement("div");\n    let formHeaderTitle = document.createElement("h1");\n    let formHeaderClose = document.createElement("img");\n    formHeaderTitle.textContent = "New Project";\n    formHeaderClose.src = "../images/x.png";\n    formHeader.classList.add("form-header");\n    formHeaderClose.classList.add("project-form-close");\n    formHeader.append(formHeaderTitle, formHeaderClose);\n\n    let formName = document.createElement("div");\n    let formNameLabel = document.createElement("label");\n    let formNameInput = document.createElement("input")\n    formName.classList.add("form-input");\n    formNameLabel.textContent = "Project Name";\n    formNameInput.id = "project-name";\n    formNameInput.type = "text";\n    formNameInput.placeholder = "Project Name";\n    formName.append(formNameLabel, formNameInput);\n\n    let formSubmitBtn = document.createElement("button");\n    formSubmitBtn.id = "project-submit";\n    formSubmitBtn.textContent = "Submit";\n\n    projectForm.append(formHeader, formName, formSubmitBtn);\n    projectModal.append(projectForm);\n\n    let body = document.querySelector("body");\n    body.insertBefore(projectModal, body.firstChild);\n\n    projectForm.addEventListener(\'submit\', (e) => {\n        e.preventDefault();\n        if (validateForm(formNameInput)) {\n            let projectNameInput = formNameInput.value.trim();\n            let projectColour = generateColour();\n            let newProject = new projects(projectNameInput, projectColour)\n            let newProjectOption = document.createElement("option");\n\n            newProjectOption.textContent = newProject.name;\n\n            projectList.push(newProject);\n            renderProject(newProject);\n\n            deleteProjectForm();\n        }\n    })\n\n    formHeaderClose.addEventListener(\'click\', deleteProjectForm);\n}\n\nfunction expandTask(e) {\n    // console.log(e.currentTarget);\n    if (e.currentTarget.classList.contains(\'task-expand\')) {\n        e.currentTarget.classList.remove(\'task-expand\');\n        e.currentTarget.querySelector(\'.task-details\').style.visibility = \'hidden\';\n    } else {\n        e.currentTarget.classList.add(\'task-expand\');\n        e.currentTarget.querySelector(\'.task-details\').style.visibility = \'visible\';\n    }\n}\n\nfunction deleteTask(e) {\n    this.parentNode.parentNode.parentNode.parentNode.remove(); //delete button\n    e.stopPropagation();\n}\n\nfunction completeTask(e) {\n    this.parentNode.parentNode.parentNode.firstChild.children[1].firstChild.classList.toggle(\'task-complete\');\n    e.stopPropagation();\n}\n\nfunction toggleMode(e) {\n    let header = document.querySelector(\'header\');\n    let left = document.querySelector(\'.left\');\n    let right = document.querySelector(\'.right\');\n    let tasks = document.querySelectorAll(\'.task-information\');\n\n    e.currentTarget.classList.toggle(\'toggle-active\');\n    header.classList.toggle(\'header-light\');\n    left.classList.toggle(\'left-light\');\n    right.classList.toggle(\'right-light\');\n    tasks.forEach((task) => {\n        task.classList.toggle(\'task-light\');\n    })\n}\n\nfunction deleteTaskForm() {\n    let body = document.querySelector("body");\n    body.firstElementChild.remove();\n}\n\nfunction deleteProjectForm() {\n    let body = document.querySelector("body");\n    body.firstElementChild.remove();\n}\n\nfunction handleEditSubmit(e) {\n    e.preventDefault();\n    console.log("submit working");\n\n    let taskName = document.querySelector(".task-name");\n    let taskDate = document.querySelector(".task-date");\n    let taskNameInput = document.getElementById("update-task-title");\n    let taskDateInput = document.getElementById("update-task-date");\n    let taskTitleDetails = document.querySelector(".task-title-details");\n    let editTaskTitleForm = document.getElementById("update-task-title-form");\n\n    \n    taskName.textContent = taskNameInput.value;\n    taskDate.textContent = taskDateInput.value;\n    \n    taskTitleDetails.style.display = "flex";\n    editTaskTitleForm.style.display = "none";\n\n}\n\nfunction handleDescSubmit(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    console.log("edit desc submit working")\n\n    let taskDetails = document.querySelector(".task-description-text");\n    let editDetailsForm = document.getElementById("update-description-form");\n    let editDetailsInput = document.getElementById("update-description");\n\n    taskDetails.textContent = editDetailsInput.value;\n    taskDetails.style.display = "block";\n    editDetailsForm.style.display = "none";\n}\n\nfunction filterTasksByProject(e) {\n    let newTaskList = [];\n    \n    let taskContainer = document.querySelector(".task-container");\n    taskContainer.innerHTML = "";\n\n    if (e.target.textContent == "All Tasks") {\n        taskList.forEach((task) => {\n            renderTask(task);\n        })\n    } else {\n        taskList.forEach((task) => {\n            if (task.project == e.target.textContent) {\n                console.log(task.project);\n                newTaskList.push(task);\n            }\n        })\n    }\n\n    newTaskList.forEach((filteredTask) => {\n        renderTask(filteredTask);\n    })\n}\n\n\n;// CONCATENATED MODULE: ./src/index.js\n\n\nrenderPage();\npopulatePage();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDRDQUFlOztBQ1RmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQ0FBZTs7QUNQZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3QkFBd0IsSUFBSSxJQUFJLElBQUksS0FBSyxNQUFNO0FBQy9DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ3hFMEI7QUFDTTtBQUN3Qjs7QUFFeEQsdUJBQXVCLEtBQUk7QUFDM0IsdUJBQXVCLEtBQUk7QUFDM0IsdUJBQXVCLEtBQUk7QUFDM0IsbUJBQW1CLFFBQU87QUFDMUIsbUJBQW1CLFFBQU87QUFDMUIsbUJBQW1CLFFBQU87QUFDMUI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZLFlBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsOEJBQThCLEtBQUk7QUFDbEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWSxZQUFZO0FBQ3hCO0FBQ0EsZ0NBQWdDLGNBQWM7QUFDOUMsaUNBQWlDLFFBQU87QUFDeEM7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDs7OztBQzdjaUQ7O0FBRWpELFVBQVU7QUFDVixZQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Rhc2tzLmpzPzQwN2IiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Byb2plY3RzLmpzPzEyMTAiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2hlbHBlcnMuanM/ZDdjMiIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvZG9tLmpzP2NiZjAiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzP2I2MzUiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgVGFzayB7XG4gICAgY29uc3RydWN0b3IobmFtZSwgZGVzY3JpcHRpb24sIHByb2plY3QsIGRhdGUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICB0aGlzLmRhdGUgPSBkYXRlO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGFzayIsImNsYXNzIFByb2plY3Qge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGNvbG91cikge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmNvbG91ciA9IGNvbG91cjtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByb2plY3QiLCJmdW5jdGlvbiBnZW5lcmF0ZUNvbG91cigpIHtcbiAgICBsZXQgaHVlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjM2MCk7XG4gICAgbGV0IHNhdCA9IDkwO1xuICAgIGxldCBsaWdodCA9IDYwO1xuXG4gICAgbGV0IGhzbFZhbCA9IGBoc2woJHtodWV9LCAke3NhdH0lLCAke2xpZ2h0fSUpYDtcbiAgICByZXR1cm4gaHNsVmFsXG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlRm9ybSguLi5hcmdzKSB7XG4gICAgbGV0IGZpZWxkc0ZpbGxlZCA9IHRydWU7XG4gICAgXG4gICAgYXJncy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgICBsZXQgaW5wdXRUZXh0ID0gaW5wdXQudmFsdWUudHJpbSgpO1xuICAgICAgICBpZiAoaW5wdXRUZXh0ID09PSAnJykge1xuICAgICAgICAgICAgaWYgKGlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdWNjZXNzJykpe1xuICAgICAgICAgICAgICAgIGlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc3VjY2VzcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdlcnJvcicpKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzdWNjZXNzJyk7XG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgYXJncy5mb3JFYWNoKChhcmcpID0+IHtcbiAgICAgICAgbGV0IGFyZ1RleHQgPSBhcmcudmFsdWUudHJpbSgpO1xuICAgICAgICBjb25zb2xlLmxvZyhhcmcpO1xuICAgICAgICBjb25zb2xlLmxvZyhhcmdUZXh0KTtcbiAgICAgICAgaWYgKGFyZ1RleHQgPT09ICcnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImZhbHNlZWVlXCIpO1xuICAgICAgICAgICAgZmllbGRzRmlsbGVkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gZmllbGRzRmlsbGVkXG59XG5cbi8vIGZ1bmN0aW9uIHZhbGlkYXRlRm9ybShmb3JtTmFtZUlucHV0LCBmb3JtRGVzY0lucHV0KSB7XG4vLyAgICAgbGV0IHRhc2tOYW1lSW5wdXQgPSBmb3JtTmFtZUlucHV0LnZhbHVlLnRyaW0oKTtcbi8vICAgICBsZXQgdGFza0Rlc2NJbnB1dCA9IGZvcm1EZXNjSW5wdXQudmFsdWUudHJpbSgpO1xuICAgIFxuLy8gICAgIGlmICh0YXNrTmFtZUlucHV0ID09PSAnJykge1xuLy8gICAgICAgICBpZiAoZm9ybU5hbWVJbnB1dC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3VjY2VzcycpKXtcbi8vICAgICAgICAgICAgIGZvcm1OYW1lSW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzdWNjZXNzJyk7XG4vLyAgICAgICAgIH1cbi8vICAgICAgICAgdGFza05hbWUucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xuLy8gICAgIH0gZWxzZSB7XG4vLyAgICAgICAgIGlmIChmb3JtTmFtZUlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdlcnJvcicpKXtcbi8vICAgICAgICAgICAgIGZvcm1OYW1lSW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xuLy8gICAgICAgICB9XG4vLyAgICAgICAgIGZvcm1OYW1lSW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzdWNjZXNzJylcbi8vICAgICB9XG5cbi8vICAgICBpZiAodGFza0Rlc2NJbnB1dCA9PT0gJycpIHtcbi8vICAgICAgICAgaWYgKGZvcm1EZXNjSW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N1Y2Nlc3MnKSl7XG4vLyAgICAgICAgICAgICBmb3JtRGVzY0lucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc3VjY2VzcycpO1xuLy8gICAgICAgICB9XG4vLyAgICAgICAgIGZvcm1EZXNjSW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xuLy8gICAgIH0gZWxzZSB7XG4vLyAgICAgICAgIGlmIChmb3JtRGVzY0lucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdlcnJvcicpKXtcbi8vICAgICAgICAgICAgIGZvcm1EZXNjSW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xuLy8gICAgICAgICB9XG4vLyAgICAgICAgIGZvcm1EZXNjSW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzdWNjZXNzJylcbi8vICAgICB9XG5cbi8vICAgICBpZiAodGFza05hbWVJbnB1dCAhPT0gJycgJiYgdGFza0Rlc2NJbnB1dCAhPT0gJycpIHtcbi8vICAgICAgICAgcmV0dXJuIHRydWVcbi8vICAgICB9XG4vLyB9XG5cbmV4cG9ydCB7IGdlbmVyYXRlQ29sb3VyLCB2YWxpZGF0ZUZvcm0gfSIsImltcG9ydCBUYXNrIGZyb20gJy4vdGFza3MnXG5pbXBvcnQgUHJvamVjdCBmcm9tICcuL3Byb2plY3RzJ1xuaW1wb3J0IHsgZ2VuZXJhdGVDb2xvdXIsIHZhbGlkYXRlRm9ybSB9IGZyb20gJy4vaGVscGVycydcblxubGV0IHRhc2tFeGFtcGxlMSA9IG5ldyBUYXNrKFwiVGFzayBOYW1lXCIsIFwiTG9yZW0gSXBzdW1cIiwgXCJTY2hvb2xcIiwgXCIyMDIyLTAyLTA2XCIpO1xubGV0IHRhc2tFeGFtcGxlMiA9IG5ldyBUYXNrKFwiVGFzayBOYW1lXCIsIFwiTG9yZW0gSXBzdW1cIiwgXCJTY2hvb2xcIiwgXCIyMDIyLTAyLTA2XCIpO1xubGV0IHRhc2tFeGFtcGxlMyA9IG5ldyBUYXNrKFwiVGFzayBOYW1lXCIsIFwiTG9yZW0gSXBzdW1cIiwgXCJXb3JrXCIsIFwiMjAyMi0wMi0wNlwiKTtcbmxldCBwcm9qZWN0MSA9IG5ldyBQcm9qZWN0KFwiQWxsIFRhc2tzXCIsIFwicmdiKDAsIDAsIDApXCIpO1xubGV0IHByb2plY3QyID0gbmV3IFByb2plY3QoXCJTY2hvb2xcIiwgXCJyZ2IoMCwgMTQwLCAyNTUpXCIpO1xubGV0IHByb2plY3QzID0gbmV3IFByb2plY3QoXCJXb3JrXCIsIFwicmdiKDIyOSwgMzcsIDgyKVwiKTtcbmxldCB0YXNrTGlzdCA9IFtdO1xubGV0IHByb2plY3RMaXN0ID0gW107XG5cbnRhc2tMaXN0LnB1c2godGFza0V4YW1wbGUxLCB0YXNrRXhhbXBsZTIsIHRhc2tFeGFtcGxlMyk7XG5wcm9qZWN0TGlzdC5wdXNoKHByb2plY3QxLCBwcm9qZWN0MiwgcHJvamVjdDMpO1xuXG4vLyBjcmVhdGVzIG1haW4gcGFnZVxuZnVuY3Rpb24gcmVuZGVyUGFnZSgpIHtcbiAgICBjb25zb2xlLmxvZygnaGVsbG8nKTtcbiAgICBsZXQgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xuICAgIGxldCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaGVhZGVyXCIpO1xuICAgIGxldCBtYWluU2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbGV0IHBhZ2VUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcbiAgICBsZXQgdG9nZ2xlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBsZXQgdG9nZ2xlSW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlcIik7XG5cbiAgICBwYWdlVGl0bGUudGV4dENvbnRlbnQgPSBcIk15IFRvLURvIExpc3RcIjtcbiAgICB0b2dnbGVDb250YWluZXIuY2xhc3NMaXN0LmFkZChcInRvZ2dsZS1tb2RlXCIpO1xuICAgIHRvZ2dsZUluZGljYXRvci5jbGFzc0xpc3QuYWRkKFwidG9nZ2xlLWJ0blwiKTtcbiAgICB0b2dnbGVDb250YWluZXIuYXBwZW5kKHRvZ2dsZUluZGljYXRvcik7XG4gICAgaGVhZGVyLmFwcGVuZChwYWdlVGl0bGUsIHRvZ2dsZUNvbnRhaW5lcik7XG4gICAgbWFpblNlY3Rpb24uY2xhc3NMaXN0LmFkZChcIm1haW4tYm9keVwiKTtcbiAgICBcbiAgICBsZXQgbGVmdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbGV0IGxlZnRUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbiAgICBsZXQgbmV3UHJvamVjdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbGV0IG5ld1Byb2plY3RJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBsZXQgbmV3UHJvamVjdFRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBsZXQgcHJvamVjdFVMID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO1xuICAgIGxlZnRUaXRsZS50ZXh0Q29udGVudCA9IFwiUHJvamVjdCBMaXN0XCJcbiAgICBsZWZ0LmNsYXNzTGlzdC5hZGQoXCJsZWZ0XCIpO1xuICAgIHByb2plY3RVTC5jbGFzc0xpc3QuYWRkKFwicHJvamVjdC1saXN0XCIpO1xuICAgIG5ld1Byb2plY3RJY29uLnNyYyA9IFwiLi4vaW1hZ2VzL3BsdXMucG5nXCI7XG4gICAgbmV3UHJvamVjdFRleHQudGV4dENvbnRlbnQgPSBcIkFkZCBhIFByb2plY3RcIlxuICAgIG5ld1Byb2plY3RCdG4uY2xhc3NMaXN0LmFkZChcIm5ldy1wcm9qZWN0XCIpO1xuICAgIG5ld1Byb2plY3RCdG4uYXBwZW5kKG5ld1Byb2plY3RJY29uLCBuZXdQcm9qZWN0VGV4dCk7XG4gICAgbGVmdC5hcHBlbmQobGVmdFRpdGxlLCBwcm9qZWN0VUwsIG5ld1Byb2plY3RCdG4pO1xuXG4gICAgbGV0IHJpZ2h0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBsZXQgcmlnaHRUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbiAgICBsZXQgdGFza0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbGV0IG5ld1Rhc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGxldCBuZXdUYXNrSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgbGV0IG5ld1Rhc2tUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgcmlnaHRUaXRsZS50ZXh0Q29udGVudCA9IFwiVGFzayBMaXN0XCI7XG4gICAgcmlnaHQuY2xhc3NMaXN0LmFkZChcInJpZ2h0XCIpO1xuICAgIHRhc2tDb250YWluZXIuY2xhc3NMaXN0LmFkZChcInRhc2stY29udGFpbmVyXCIpO1xuICAgIG5ld1Rhc2suY2xhc3NMaXN0LmFkZChcIm5ldy10YXNrXCIpO1xuICAgIG5ld1Rhc2tJY29uLnNyYyA9IFwiLi4vaW1hZ2VzL3BsdXMucG5nXCI7XG4gICAgbmV3VGFza1RleHQudGV4dENvbnRlbnQgPSBcIkFkZCBhIFRhc2tcIjtcbiAgICBuZXdUYXNrLmFwcGVuZChuZXdUYXNrSWNvbiwgbmV3VGFza1RleHQpO1xuICAgIHJpZ2h0LmFwcGVuZChyaWdodFRpdGxlLCB0YXNrQ29udGFpbmVyLCBuZXdUYXNrKTtcblxuICAgIG1haW5TZWN0aW9uLmFwcGVuZChsZWZ0LCByaWdodCk7XG4gICAgYm9keS5hcHBlbmQoaGVhZGVyLCBtYWluU2VjdGlvbik7XG5cbiAgICB0b2dnbGVDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b2dnbGVNb2RlKTtcblxuICAgIG5ld1Byb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHJlbmRlclByb2plY3RGb3JtKCk7XG4gICAgfSlcblxuICAgIG5ld1Rhc2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHJlbmRlclRhc2tGb3JtKCk7XG4gICAgfSlcbiAgICAvLyBhZGR0YXNrIGV2ZW50IGxpc3RlbmVyXG4gICAgLy8gYWRkIHByb2plY3QgZXZlbnQgbGlzdGVuZXJcbn1cblxuZnVuY3Rpb24gcG9wdWxhdGVQYWdlKCkge1xuICAgIHByb2plY3RMaXN0LmZvckVhY2goKHByb2plY3QpID0+IHtcbiAgICAgICAgcmVuZGVyUHJvamVjdChwcm9qZWN0KTtcbiAgICB9KVxuXG4gICAgdGFza0xpc3QuZm9yRWFjaCgodGFzaykgPT4ge1xuICAgICAgICByZW5kZXJUYXNrKHRhc2spO1xuICAgIH0pXG59XG5cbi8vIGZ1bmN0aW9uIHRvIHJlbmRlciBzaW5nbGUgdGFzayBhbmQgYXBwZW5kIHRvIGNvbnRhaW5lclxuZnVuY3Rpb24gcmVuZGVyVGFzayh0YXNrKSB7XG4gICAgbGV0IHRhc2tEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGxldCB0YXNrQ2F0ZWdvcnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGxldCB0YXNrSW5mb3JtYXRpb25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGxldCB0YXNrSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBsZXQgdGFza1RpdGxlRGV0YWlscyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbGV0IHRhc2tUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIGxldCB0YXNrRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIGxldCBpY29uc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbGV0IGVkaXRUYXNrVGl0bGVGb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIik7XG4gICAgbGV0IGVkaXRUYXNrVGl0bGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBsZXQgZWRpdFRhc2tEYXRlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgbGV0IGVkaXRUYXNrU3VibWl0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGxldCBlZGl0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBsZXQgY2hlY2tCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGxldCBkZWxldGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGxldCBlZGl0RGVzY3JpcHRpb25CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGxldCBlZGl0RGVzY3JpcHRpb25Gb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIik7XG4gICAgbGV0IGVkaXREZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGxldCBlZGl0RGVzY3JpcHRpb25TdWJtaXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgbGV0IGRldGFpbHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGxldCBkZXRhaWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgbGV0IGNhdENvbG91ciA9IFwiXCI7XG5cbiAgICBwcm9qZWN0TGlzdC5mb3JFYWNoKChwcm9qZWN0KSA9PiB7XG4gICAgICAgIGlmIChKU09OLnN0cmluZ2lmeSh0YXNrLnByb2plY3QpID09PSBKU09OLnN0cmluZ2lmeShwcm9qZWN0Lm5hbWUpKSB7XG4gICAgICAgICAgICBjYXRDb2xvdXIgPSBwcm9qZWN0LmNvbG91cjtcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICBlZGl0RGVzY3JpcHRpb25Gb3JtLmlkID0gXCJ1cGRhdGUtZGVzY3JpcHRpb24tZm9ybVwiO1xuICAgIGVkaXREZXNjcmlwdGlvbkZvcm0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIGVkaXREZXNjcmlwdGlvbklucHV0LmlkID0gXCJ1cGRhdGUtZGVzY3JpcHRpb25cIjtcbiAgICBlZGl0RGVzY3JpcHRpb25JbnB1dC5wbGFjZWhvbGRlciA9IFwiQWRkIGEgbmV3IGRlc2NyaXB0aW9uXCJcbiAgICBlZGl0RGVzY3JpcHRpb25TdWJtaXQudHlwZSA9IFwic3VibWl0XCI7XG4gICAgZWRpdERlc2NyaXB0aW9uU3VibWl0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBlZGl0RGVzY3JpcHRpb25Gb3JtLmFwcGVuZChlZGl0RGVzY3JpcHRpb25JbnB1dCwgZWRpdERlc2NyaXB0aW9uU3VibWl0KTtcblxuICAgIHRhc2tEaXYuY2xhc3NMaXN0LmFkZChcInRhc2tcIik7XG4gICAgdGFza0NhdGVnb3J5LmNsYXNzTGlzdC5hZGQoXCJ0YXNrLWNhdGVnb3J5XCIsIFwiY2F0LWdyb3dcIik7XG4gICAgdGFza0luZm9ybWF0aW9uQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJ0YXNrLWluZm9ybWF0aW9uXCIpO1xuICAgIHRhc2tIZWFkZXIuY2xhc3NMaXN0LmFkZChcInRhc2stdGl0bGVcIik7XG4gICAgdGFza1RpdGxlRGV0YWlscy5jbGFzc0xpc3QuYWRkKFwidGFzay10aXRsZS1kZXRhaWxzXCIpO1xuICAgIHRhc2tUaXRsZS5jbGFzc0xpc3QuYWRkKFwidGFzay1uYW1lXCIpO1xuICAgIHRhc2tEYXRlLmNsYXNzTGlzdC5hZGQoXCJ0YXNrLWRhdGVcIik7XG4gICAgaWNvbnNDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImljb25zXCIpO1xuICAgIGRldGFpbHNDb250YWluZXIuY2xhc3NMaXN0LmFkZChcInRhc2stZGV0YWlsc1wiLCBcImRldGFpbHMtdmlzaWJsZVwiKTtcbiAgICBlZGl0VGFza1RpdGxlRm9ybS5pZCA9IFwidXBkYXRlLXRhc2stdGl0bGUtZm9ybVwiO1xuICAgIGVkaXRUYXNrVGl0bGVGb3JtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBlZGl0VGFza1RpdGxlSW5wdXQuaWQgPSBcInVwZGF0ZS10YXNrLXRpdGxlXCI7XG4gICAgZWRpdFRhc2tUaXRsZUlucHV0LnBsYWNlaG9sZGVyID0gXCJFbnRlciBhIG5ldyB0aXRsZVwiO1xuICAgIGVkaXRUYXNrRGF0ZUlucHV0LmlkID0gXCJ1cGRhdGUtdGFzay1kYXRlXCI7XG4gICAgZWRpdFRhc2tEYXRlSW5wdXQucGxhY2Vob2xkZXIgPSBcIkVudGVyIGEgbmV3IGRhdGVcIjtcbiAgICBlZGl0QnRuLmlkID0gXCJlZGl0XCI7XG4gICAgY2hlY2tCdG4uaWQgPSBcImNvbXBsZXRlXCI7XG4gICAgZGVsZXRlQnRuLmlkID0gXCJkZWxldGVcIjtcbiAgICBkZXRhaWxzLmNsYXNzTGlzdC5hZGQoXCJ0YXNrLWRlc2NyaXB0aW9uLXRleHRcIik7XG4gICAgdGFza0NhdGVnb3J5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNhdENvbG91cjtcbiAgICBcbiAgICB0YXNrVGl0bGUudGV4dENvbnRlbnQgPSB0YXNrLm5hbWU7XG4gICAgdGFza0RhdGUudGV4dENvbnRlbnQgPSB0YXNrLmRhdGU7XG4gICAgZGV0YWlscy50ZXh0Q29udGVudCA9IHRhc2suZGVzY3JpcHRpb247XG4gICAgZWRpdFRhc2tTdWJtaXQudHlwZSA9IFwic3VibWl0XCI7XG4gICAgZWRpdFRhc2tTdWJtaXQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIGVkaXRCdG4uc3JjID0gXCIuLi9pbWFnZXMvZWRpdDIucG5nXCI7XG4gICAgY2hlY2tCdG4uc3JjID0gXCIuLi9pbWFnZXMvY2hlY2sucG5nXCI7XG4gICAgZGVsZXRlQnRuLnNyYyA9IFwiLi4vaW1hZ2VzL3gucG5nXCI7XG4gICAgZWRpdERlc2NyaXB0aW9uQnRuLnNyYyA9IFwiLi4vaW1hZ2VzL2VkaXQyLnBuZ1wiO1xuICAgIFxuICAgIGVkaXRUYXNrVGl0bGVGb3JtLmFwcGVuZChlZGl0VGFza1RpdGxlSW5wdXQsIGVkaXRUYXNrRGF0ZUlucHV0LCBlZGl0VGFza1N1Ym1pdCk7XG4gICAgaWNvbnNDb250YWluZXIuYXBwZW5kKGVkaXRCdG4sIGNoZWNrQnRuLCBkZWxldGVCdG4pO1xuICAgIHRhc2tUaXRsZURldGFpbHMuYXBwZW5kKHRhc2tUaXRsZSwgdGFza0RhdGUpO1xuICAgIHRhc2tIZWFkZXIuYXBwZW5kKGVkaXRUYXNrVGl0bGVGb3JtLCB0YXNrVGl0bGVEZXRhaWxzLCBpY29uc0NvbnRhaW5lcik7XG4gICAgZGV0YWlsc0NvbnRhaW5lci5hcHBlbmQoZWRpdERlc2NyaXB0aW9uQnRuLCBlZGl0RGVzY3JpcHRpb25Gb3JtLCBkZXRhaWxzKTtcbiAgICB0YXNrSW5mb3JtYXRpb25Db250YWluZXIuYXBwZW5kKHRhc2tIZWFkZXIsIGRldGFpbHNDb250YWluZXIpO1xuICAgIHRhc2tEaXYuYXBwZW5kKHRhc2tDYXRlZ29yeSwgdGFza0luZm9ybWF0aW9uQ29udGFpbmVyKTtcblxuICAgIGVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB0YXNrVGl0bGVEZXRhaWxzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgZWRpdFRhc2tUaXRsZUZvcm0uc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgIH0pO1xuXG4gICAgZWRpdERlc2NyaXB0aW9uQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICBlZGl0RGVzY3JpcHRpb25Gb3JtLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgZGV0YWlscy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfSlcblxuICAgIGVkaXREZXNjcmlwdGlvbklucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KVxuXG4gICAgZWRpdERlc2NyaXB0aW9uU3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KVxuXG4gICAgdGFza0Rpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV4cGFuZFRhc2spO1xuICAgIGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRlbGV0ZVRhc2spO1xuICAgIGNoZWNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY29tcGxldGVUYXNrKTtcbiAgICBlZGl0VGFza1RpdGxlRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBoYW5kbGVFZGl0U3VibWl0KVxuICAgIGVkaXREZXNjcmlwdGlvbkZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgaGFuZGxlRGVzY1N1Ym1pdClcblxuICAgIGxldCB0YXNrQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWNvbnRhaW5lclwiKTtcbiAgICB0YXNrQ29udGFpbmVyLmFwcGVuZENoaWxkKHRhc2tEaXYpO1xufVxuXG4vLyBmdW5jdGlvbiB0byByZW5kZXIgc2luZ2xlIHByb2plY3QgYW5kIGFwcGVuZCB0byBjb250YWluZXJcbmZ1bmN0aW9uIHJlbmRlclByb2plY3QocHJvamVjdERpdikge1xuICAgIGxldCBwcm9qZWN0VUwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtbGlzdFwiKTtcbiAgICBsZXQgcHJvamVjdExJID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuXG4gICAgcHJvamVjdExJLnRleHRDb250ZW50ID0gcHJvamVjdERpdi5uYW1lO1xuICAgIHByb2plY3RVTC5hcHBlbmQocHJvamVjdExJKTtcblxuICAgIHByb2plY3RMSS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZpbHRlclRhc2tzQnlQcm9qZWN0KTtcbn1cblxuLy8gZnVuY3Rpb24gdG8gcmVuZGVyIFRhc2sgQ3JlYXRpb24gRm9ybVxuZnVuY3Rpb24gcmVuZGVyVGFza0Zvcm0oKSB7XG4gICAgY29uc29sZS5sb2coJ3llcnJyJyk7XG4gICAgbGV0IHByb2plY3RNb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbGV0IHRhc2tGb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIik7XG4gICAgbGV0IGZvcm1IZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGxldCBmb3JtSGVhZGVyVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbiAgICBsZXQgZm9ybUhlYWRlckNsb3NlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBcbiAgICBwcm9qZWN0TW9kYWwuY2xhc3NMaXN0LmFkZChcIm1vZGFsXCIpO1xuICAgIGZvcm1IZWFkZXIuY2xhc3NMaXN0LmFkZChcImZvcm0taGVhZGVyXCIpO1xuICAgIGZvcm1IZWFkZXJDbG9zZS5jbGFzc0xpc3QuYWRkKFwiZm9ybS1jbG9zZVwiKTtcbiAgICB0YXNrRm9ybS5pZCA9IFwidGFzay1mb3JtXCI7XG4gICAgZm9ybUhlYWRlclRleHQudGV4dENvbnRlbnQgPSBcIk5ldyBUYXNrXCI7XG4gICAgZm9ybUhlYWRlckNsb3NlLnNyYyA9IFwiLi4vaW1hZ2VzL3gucG5nXCI7XG4gICAgZm9ybUhlYWRlci5hcHBlbmQoZm9ybUhlYWRlclRleHQsIGZvcm1IZWFkZXJDbG9zZSk7XG5cbiAgICBsZXQgZm9ybU5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGxldCBmb3JtTmFtZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIGxldCBmb3JtTmFtZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGZvcm1OYW1lLmNsYXNzTGlzdC5hZGQoXCJmb3JtLWlucHV0XCIpO1xuICAgIGZvcm1OYW1lTGFiZWwudGV4dENvbnRlbnQgPSBcIlRhc2sgTmFtZVwiO1xuICAgIGZvcm1OYW1lSW5wdXQuaWQgPSBcImZvcm0tdGFzay1uYW1lXCI7XG4gICAgZm9ybU5hbWVJbnB1dC5wbGFjZWhvbGRlciA9IFwiVGFzayBOYW1lXCI7XG4gICAgZm9ybU5hbWVJbnB1dC50eXBlID0gXCJ0ZXh0XCI7XG4gICAgZm9ybU5hbWUuYXBwZW5kKGZvcm1OYW1lTGFiZWwsIGZvcm1OYW1lSW5wdXQpO1xuICAgIFxuICAgIGxldCBmb3JtRGVzYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbGV0IGZvcm1EZXNjTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgbGV0IGZvcm1EZXNjSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7XG4gICAgZm9ybURlc2MuY2xhc3NMaXN0LmFkZChcImZvcm0taW5wdXRcIik7XG4gICAgZm9ybURlc2NMYWJlbC50ZXh0Q29udGVudCA9IFwiVGFzayBEZXNjcmlwdGlvblwiO1xuICAgIGZvcm1EZXNjSW5wdXQuaWQgPSBcImZvcm0tdGFzay1kZXNjcmlwdGlvblwiO1xuICAgIGZvcm1EZXNjSW5wdXQucGxhY2Vob2xkZXIgPSBcIlRhc2sgRGVzY3JpcHRpb25cIjtcbiAgICBmb3JtRGVzY0lucHV0LmNvbHMgPSBcIjMwXCI7XG4gICAgZm9ybURlc2NJbnB1dC5yb3dzID0gXCIxMFwiO1xuICAgIGZvcm1EZXNjLmFwcGVuZChmb3JtRGVzY0xhYmVsLCBmb3JtRGVzY0lucHV0KTtcblxuICAgIGxldCBmb3JtUHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbGV0IGZvcm1Qcm9qZWN0TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgbGV0IGZvcm1Qcm9qZWN0TGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG4gICAgZm9ybVByb2plY3QuY2xhc3NMaXN0LmFkZChcImZvcm0taW5wdXRcIik7XG4gICAgZm9ybVByb2plY3RMaXN0LmlkID0gXCJ0YXNrLXByb2plY3QtbmFtZVwiO1xuICAgIGZvcm1Qcm9qZWN0TGFiZWwudGV4dENvbnRlbnQgPSBcIlByb2plY3RcIjtcblxuICAgIC8vbG9vcCB0aHJvdWdodCBwcm9qZWN0IGxpc3QgdG8gY3JlYXRlIG9wdGlvbnNcbiAgICBwcm9qZWN0TGlzdC5mb3JFYWNoKChwcm9qZWN0KSA9PiB7XG4gICAgICAgIGxldCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSBwcm9qZWN0Lm5hbWU7XG4gICAgICAgIG9wdGlvbi52YWx1ZSA9IHByb2plY3QubmFtZTtcbiAgICAgICAgZm9ybVByb2plY3RMaXN0LmFwcGVuZChvcHRpb24pO1xuICAgIH0pXG5cbiAgICBmb3JtUHJvamVjdC5hcHBlbmQoZm9ybVByb2plY3RMYWJlbCwgZm9ybVByb2plY3RMaXN0KTtcblxuICAgIGxldCBmb3JtRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbGV0IGZvcm1EYXRlTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgbGV0IGZvcm1EYXRlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIilcbiAgICBmb3JtRGF0ZS5jbGFzc0xpc3QuYWRkKFwiZm9ybS1pbnB1dFwiKTtcbiAgICBmb3JtRGF0ZUlucHV0LmlkID0gXCJkYXRlLXNlbGVjdFwiO1xuICAgIGZvcm1EYXRlSW5wdXQudHlwZSA9IFwiZGF0ZVwiO1xuICAgIGZvcm1EYXRlTGFiZWwgPSBcIkZpbmlzaCBEYXRlXCI7XG4gICAgZm9ybURhdGUuYXBwZW5kKGZvcm1EYXRlTGFiZWwsIGZvcm1EYXRlSW5wdXQpO1xuXG4gICAgbGV0IGZvcm1TdWJtaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGZvcm1TdWJtaXRCdG4uaWQgPSBcInRhc2stc3VibWl0XCI7XG4gICAgZm9ybVN1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IFwiU3VibWl0XCI7XG5cbiAgICB0YXNrRm9ybS5hcHBlbmQoZm9ybUhlYWRlciwgZm9ybU5hbWUsIGZvcm1EZXNjLCBmb3JtUHJvamVjdCwgZm9ybURhdGUsIGZvcm1TdWJtaXRCdG4pO1xuICAgIHByb2plY3RNb2RhbC5hcHBlbmQodGFza0Zvcm0pO1xuXG4gICAgbGV0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKTtcbiAgICBib2R5Lmluc2VydEJlZm9yZShwcm9qZWN0TW9kYWwsIGJvZHkuZmlyc3RDaGlsZCk7XG5cbiAgICB0YXNrRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZSkgPT4ge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICh2YWxpZGF0ZUZvcm0oZm9ybU5hbWVJbnB1dCwgZm9ybURlc2NJbnB1dCkpIHtcbiAgICAgICAgICAgIGxldCB0YXNrTmFtZUlucHV0ID0gZm9ybU5hbWVJbnB1dC52YWx1ZS50cmltKCk7XG4gICAgICAgICAgICBsZXQgdGFza0Rlc2NJbnB1dCA9IGZvcm1EZXNjSW5wdXQudmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgbGV0IHByb2plY3RJbnB1dCA9IGZvcm1Qcm9qZWN0TGlzdC5vcHRpb25zW2Zvcm1Qcm9qZWN0TGlzdC5zZWxlY3RlZEluZGV4XS52YWx1ZTtcbiAgICAgICAgICAgIGxldCB0YXNrRGF0ZUlucHV0ID0gZm9ybURhdGVJbnB1dC52YWx1ZTtcblxuICAgICAgICAgICAgbGV0IG5ld1Rhc2sgPSBuZXcgVGFzayh0YXNrTmFtZUlucHV0LCB0YXNrRGVzY0lucHV0LCBwcm9qZWN0SW5wdXQsIHRhc2tEYXRlSW5wdXQpO1xuICAgICAgICAgICAgdGFza0xpc3QucHVzaChuZXdUYXNrKTtcbiAgICAgICAgICAgIHJlbmRlclRhc2sobmV3VGFzayk7XG5cbiAgICAgICAgICAgIGRlbGV0ZVRhc2tGb3JtKCk7XG4gICAgICAgIH07XG4gICAgfSlcblxuICAgIGZvcm1IZWFkZXJDbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRlbGV0ZVRhc2tGb3JtKTtcbn1cblxuXG4vLyBmdW5jdGlvbiB0byByZW5kZXIgUHJvamVjdCBDcmVhdGlvbiBGb3JtXG5mdW5jdGlvbiByZW5kZXJQcm9qZWN0Rm9ybSgpIHtcbiAgICBsZXQgcHJvamVjdE1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBsZXQgcHJvamVjdEZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtcbiAgICBwcm9qZWN0TW9kYWwuY2xhc3NMaXN0LmFkZChcInByb2plY3QtbW9kYWxcIik7XG4gICAgcHJvamVjdEZvcm0uaWQgPSBcInByb2plY3QtZm9ybVwiO1xuXG4gICAgbGV0IGZvcm1IZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGxldCBmb3JtSGVhZGVyVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDFcIik7XG4gICAgbGV0IGZvcm1IZWFkZXJDbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgZm9ybUhlYWRlclRpdGxlLnRleHRDb250ZW50ID0gXCJOZXcgUHJvamVjdFwiO1xuICAgIGZvcm1IZWFkZXJDbG9zZS5zcmMgPSBcIi4uL2ltYWdlcy94LnBuZ1wiO1xuICAgIGZvcm1IZWFkZXIuY2xhc3NMaXN0LmFkZChcImZvcm0taGVhZGVyXCIpO1xuICAgIGZvcm1IZWFkZXJDbG9zZS5jbGFzc0xpc3QuYWRkKFwicHJvamVjdC1mb3JtLWNsb3NlXCIpO1xuICAgIGZvcm1IZWFkZXIuYXBwZW5kKGZvcm1IZWFkZXJUaXRsZSwgZm9ybUhlYWRlckNsb3NlKTtcblxuICAgIGxldCBmb3JtTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbGV0IGZvcm1OYW1lTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgbGV0IGZvcm1OYW1lSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIilcbiAgICBmb3JtTmFtZS5jbGFzc0xpc3QuYWRkKFwiZm9ybS1pbnB1dFwiKTtcbiAgICBmb3JtTmFtZUxhYmVsLnRleHRDb250ZW50ID0gXCJQcm9qZWN0IE5hbWVcIjtcbiAgICBmb3JtTmFtZUlucHV0LmlkID0gXCJwcm9qZWN0LW5hbWVcIjtcbiAgICBmb3JtTmFtZUlucHV0LnR5cGUgPSBcInRleHRcIjtcbiAgICBmb3JtTmFtZUlucHV0LnBsYWNlaG9sZGVyID0gXCJQcm9qZWN0IE5hbWVcIjtcbiAgICBmb3JtTmFtZS5hcHBlbmQoZm9ybU5hbWVMYWJlbCwgZm9ybU5hbWVJbnB1dCk7XG5cbiAgICBsZXQgZm9ybVN1Ym1pdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgZm9ybVN1Ym1pdEJ0bi5pZCA9IFwicHJvamVjdC1zdWJtaXRcIjtcbiAgICBmb3JtU3VibWl0QnRuLnRleHRDb250ZW50ID0gXCJTdWJtaXRcIjtcblxuICAgIHByb2plY3RGb3JtLmFwcGVuZChmb3JtSGVhZGVyLCBmb3JtTmFtZSwgZm9ybVN1Ym1pdEJ0bik7XG4gICAgcHJvamVjdE1vZGFsLmFwcGVuZChwcm9qZWN0Rm9ybSk7XG5cbiAgICBsZXQgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xuICAgIGJvZHkuaW5zZXJ0QmVmb3JlKHByb2plY3RNb2RhbCwgYm9keS5maXJzdENoaWxkKTtcblxuICAgIHByb2plY3RGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKHZhbGlkYXRlRm9ybShmb3JtTmFtZUlucHV0KSkge1xuICAgICAgICAgICAgbGV0IHByb2plY3ROYW1lSW5wdXQgPSBmb3JtTmFtZUlucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgIGxldCBwcm9qZWN0Q29sb3VyID0gZ2VuZXJhdGVDb2xvdXIoKTtcbiAgICAgICAgICAgIGxldCBuZXdQcm9qZWN0ID0gbmV3IFByb2plY3QocHJvamVjdE5hbWVJbnB1dCwgcHJvamVjdENvbG91cilcbiAgICAgICAgICAgIGxldCBuZXdQcm9qZWN0T3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcblxuICAgICAgICAgICAgbmV3UHJvamVjdE9wdGlvbi50ZXh0Q29udGVudCA9IG5ld1Byb2plY3QubmFtZTtcblxuICAgICAgICAgICAgcHJvamVjdExpc3QucHVzaChuZXdQcm9qZWN0KTtcbiAgICAgICAgICAgIHJlbmRlclByb2plY3QobmV3UHJvamVjdCk7XG5cbiAgICAgICAgICAgIGRlbGV0ZVByb2plY3RGb3JtKCk7XG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgZm9ybUhlYWRlckNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGVsZXRlUHJvamVjdEZvcm0pO1xufVxuXG5mdW5jdGlvbiBleHBhbmRUYXNrKGUpIHtcbiAgICAvLyBjb25zb2xlLmxvZyhlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGlmIChlLmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YXNrLWV4cGFuZCcpKSB7XG4gICAgICAgIGUuY3VycmVudFRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCd0YXNrLWV4cGFuZCcpO1xuICAgICAgICBlLmN1cnJlbnRUYXJnZXQucXVlcnlTZWxlY3RvcignLnRhc2stZGV0YWlscycpLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICB9IGVsc2Uge1xuICAgICAgICBlLmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmFkZCgndGFzay1leHBhbmQnKTtcbiAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJy50YXNrLWRldGFpbHMnKS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGVsZXRlVGFzayhlKSB7XG4gICAgdGhpcy5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlLnJlbW92ZSgpOyAvL2RlbGV0ZSBidXR0b25cbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xufVxuXG5mdW5jdGlvbiBjb21wbGV0ZVRhc2soZSkge1xuICAgIHRoaXMucGFyZW50Tm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZC5jaGlsZHJlblsxXS5maXJzdENoaWxkLmNsYXNzTGlzdC50b2dnbGUoJ3Rhc2stY29tcGxldGUnKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVNb2RlKGUpIHtcbiAgICBsZXQgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyJyk7XG4gICAgbGV0IGxlZnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGVmdCcpO1xuICAgIGxldCByaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yaWdodCcpO1xuICAgIGxldCB0YXNrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50YXNrLWluZm9ybWF0aW9uJyk7XG5cbiAgICBlLmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgndG9nZ2xlLWFjdGl2ZScpO1xuICAgIGhlYWRlci5jbGFzc0xpc3QudG9nZ2xlKCdoZWFkZXItbGlnaHQnKTtcbiAgICBsZWZ0LmNsYXNzTGlzdC50b2dnbGUoJ2xlZnQtbGlnaHQnKTtcbiAgICByaWdodC5jbGFzc0xpc3QudG9nZ2xlKCdyaWdodC1saWdodCcpO1xuICAgIHRhc2tzLmZvckVhY2goKHRhc2spID0+IHtcbiAgICAgICAgdGFzay5jbGFzc0xpc3QudG9nZ2xlKCd0YXNrLWxpZ2h0Jyk7XG4gICAgfSlcbn1cblxuZnVuY3Rpb24gZGVsZXRlVGFza0Zvcm0oKSB7XG4gICAgbGV0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKTtcbiAgICBib2R5LmZpcnN0RWxlbWVudENoaWxkLnJlbW92ZSgpO1xufVxuXG5mdW5jdGlvbiBkZWxldGVQcm9qZWN0Rm9ybSgpIHtcbiAgICBsZXQgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xuICAgIGJvZHkuZmlyc3RFbGVtZW50Q2hpbGQucmVtb3ZlKCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVkaXRTdWJtaXQoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zb2xlLmxvZyhcInN1Ym1pdCB3b3JraW5nXCIpO1xuXG4gICAgbGV0IHRhc2tOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLW5hbWVcIik7XG4gICAgbGV0IHRhc2tEYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWRhdGVcIik7XG4gICAgbGV0IHRhc2tOYW1lSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVwZGF0ZS10YXNrLXRpdGxlXCIpO1xuICAgIGxldCB0YXNrRGF0ZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1cGRhdGUtdGFzay1kYXRlXCIpO1xuICAgIGxldCB0YXNrVGl0bGVEZXRhaWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLXRpdGxlLWRldGFpbHNcIik7XG4gICAgbGV0IGVkaXRUYXNrVGl0bGVGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1cGRhdGUtdGFzay10aXRsZS1mb3JtXCIpO1xuXG4gICAgXG4gICAgdGFza05hbWUudGV4dENvbnRlbnQgPSB0YXNrTmFtZUlucHV0LnZhbHVlO1xuICAgIHRhc2tEYXRlLnRleHRDb250ZW50ID0gdGFza0RhdGVJbnB1dC52YWx1ZTtcbiAgICBcbiAgICB0YXNrVGl0bGVEZXRhaWxzLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICBlZGl0VGFza1RpdGxlRm9ybS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbn1cblxuZnVuY3Rpb24gaGFuZGxlRGVzY1N1Ym1pdChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc29sZS5sb2coXCJlZGl0IGRlc2Mgc3VibWl0IHdvcmtpbmdcIilcblxuICAgIGxldCB0YXNrRGV0YWlscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFzay1kZXNjcmlwdGlvbi10ZXh0XCIpO1xuICAgIGxldCBlZGl0RGV0YWlsc0Zvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVwZGF0ZS1kZXNjcmlwdGlvbi1mb3JtXCIpO1xuICAgIGxldCBlZGl0RGV0YWlsc0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1cGRhdGUtZGVzY3JpcHRpb25cIik7XG5cbiAgICB0YXNrRGV0YWlscy50ZXh0Q29udGVudCA9IGVkaXREZXRhaWxzSW5wdXQudmFsdWU7XG4gICAgdGFza0RldGFpbHMuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICBlZGl0RGV0YWlsc0Zvcm0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xufVxuXG5mdW5jdGlvbiBmaWx0ZXJUYXNrc0J5UHJvamVjdChlKSB7XG4gICAgbGV0IG5ld1Rhc2tMaXN0ID0gW107XG4gICAgXG4gICAgbGV0IHRhc2tDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2stY29udGFpbmVyXCIpO1xuICAgIHRhc2tDb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcblxuICAgIGlmIChlLnRhcmdldC50ZXh0Q29udGVudCA9PSBcIkFsbCBUYXNrc1wiKSB7XG4gICAgICAgIHRhc2tMaXN0LmZvckVhY2goKHRhc2spID0+IHtcbiAgICAgICAgICAgIHJlbmRlclRhc2sodGFzayk7XG4gICAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGFza0xpc3QuZm9yRWFjaCgodGFzaykgPT4ge1xuICAgICAgICAgICAgaWYgKHRhc2sucHJvamVjdCA9PSBlLnRhcmdldC50ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRhc2sucHJvamVjdCk7XG4gICAgICAgICAgICAgICAgbmV3VGFza0xpc3QucHVzaCh0YXNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBuZXdUYXNrTGlzdC5mb3JFYWNoKChmaWx0ZXJlZFRhc2spID0+IHtcbiAgICAgICAgcmVuZGVyVGFzayhmaWx0ZXJlZFRhc2spO1xuICAgIH0pXG59XG5cbmV4cG9ydCB7IHJlbmRlclBhZ2UsIHBvcHVsYXRlUGFnZSB9IiwiaW1wb3J0IHsgcmVuZGVyUGFnZSwgcG9wdWxhdGVQYWdlIH0gZnJvbSBcIi4vZG9tXCI7XG5cbnJlbmRlclBhZ2UoKTtcbnBvcHVsYXRlUGFnZSgpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///23\n')}},__webpack_exports__={};__webpack_modules__[23]()})();